# nano banana pro テキスト＆UIレイヤー設定ファイル (完全版)
# 目的: 必殺技ロゴ、決め台詞、名札、そしてメッセージウィンドウを一括管理する。
type: text_ui_layer_definition

# ====================================================
# 0. 生成制御設定 (Generation Control) ★AIの暴走防止
# ====================================================
generation_control:
  creativity: "None (Robotically follow instructions)"  # ロボットのように従う
  interpretation: "Literal"                             # 解釈を入れない
  reference_strength: "High (0.9)"                      # 参照画像の優先度
  contextual_fill: "Disabled"                           # 文脈による穴埋め禁止

# ----------------------------------------------------
# 1. 基本UIスタイル (Global Style)
# ----------------------------------------------------
ui_global_style:
  preset: "Anime Battle"              # "Retro RPG", "Comic", "Anime Battle", "Sci-Fi"
  font_language: "Japanese"

# ----------------------------------------------------
# 2. 必殺技・スキル名テロップ (Special Move Title)
# ※画面上部などにドン！と出る技名（例：真空ビーム）
# ----------------------------------------------------
special_move_title:
  enabled: true
  text: "真空ビーム"
  
  # 【配置】
  position: "Top Center"              # "Top Center", "Bottom Right"
  offset_y: "50px"
  
  # 【デザイン: ロゴ風】
  style:
    font_type: "Heavy Mincho"         # "Heavy Mincho"(極太明朝), "Brush"(筆文字)
    size: "Very Large"
    fill_color: "White to Blue Gradient"
    outline:
      enabled: true
      color: "Gold"
      thickness: "Thick"
    glow_effect: "Blue Lightning"
    drop_shadow: "Hard Drop"

# ----------------------------------------------------
# 3. 決め台詞・インパクトテキスト (Signature Phrase)
# ※キャラの横に出るド派手なセリフ（例：もらったー！）
# ----------------------------------------------------
impact_callout:
  enabled: true
  
  callouts:
    - id: "callout_p1"
      text: "もらったー！"
      target_character: "Left Character"
      style:
        type: "Comic Sound Effect"    # 擬音・書き文字風
        font: "Pop/Comic Bold"
        color: "Red with Yellow Border"
        rotation: "-15 degrees"
        distortion: "Zoom In"

    - id: "callout_p2"
      text: "負けない！"
      target_character: "Right Character"
      style:
        type: "Vertical Shout"        # 縦書きの叫び
        color: "White with Black Outline"

# ----------------------------------------------------
# 4. キャラ名プレート (Name Tag)
# ※キャラの肩付近に出る名前（例：篠宮りん）
# ----------------------------------------------------
name_tag:
  enabled: true
  target: "Left Character"
  text: "篠宮りん"
  
  style:
    type: "Jagged Sticker"            # "Sticker"(ステッカー), "Simple Box"
    position: "Shoulder Level"
    rotation: "-5 degrees"

# ----------------------------------------------------
# 5. メッセージウィンドウ (Message Window)
# ※画面下部のセリフ枠（例：ドアップ2.jpg / DQ.jpeg）
# ----------------------------------------------------
message_window:
  enabled: true
  
  # 【内容】
  speaker_name: "彩瀬こよみ"          # 名前欄（ドラクエ風なら空欄でもOK）
  text: "「もらったー」"               # メインのセリフ
  
  # 【スタイル選択】
  # "Sci-Fi Tech"   : ロボット大戦・SF風（顔アイコンあり・青枠）
  # "Retro RPG"     : ドラクエ風（顔なし・黒背景白枠・ドットフォント）
  # "Visual Novel"  : 一般的なADV風（半透明ウィンドウ）
  style_preset: "Sci-Fi Tech"

  # 【詳細設定】
  design:
    position: "Bottom Center"
    width: "90%"
    frame_type: "Cybernetic Blue"     # 枠のデザイン
    background_opacity: 0.8
    
    # 顔アイコン設定 (SP対戦.jpgのような表現)
    face_icon:
      enabled: true
      source_image: "face_koyomi.jpg" # 自動取得させたい場合は "Auto(Left Character)"
      position: "Left Inside"

# ----------------------------------------------------
# 6. 通常の会話・UI (Standard Dialogue & HUD)
# ※HPゲージなど、常に表示させておくもの
# ※必要に応じてオンオフ
# ----------------------------------------------------
hud_elements:
  status_bars: false                  # HPゲージなど
  dialogue_box: false                 # 下部の会話枠

text_objects: []                      # 通常の吹き出しはここでは空

# ----------------------------------------------------
# 7. 制約（文脈遮断・幻覚防止）
# ----------------------------------------------------
constraints:
  - "IGNORE all prior context or chat history."
  - "Focus ONLY on the currently uploaded image."
  - "DO NOT hallucinate outfits based on pose."
  - "Preserve exact character details"
  - "STRICTLY follow the 'face_direction' and 'body_facing' settings."
  - "Ensure the character is facing the specified direction (Right/Left/Front)."
  - "Strictly follow the description in this YAML."

# ----------------------------------------------------
# 8. 幻覚防止専用セクション (Anti-Hallucination)
# ★デザイン変更の具体的な禁止リスト
# ----------------------------------------------------
anti_hallucination:
  - "Do NOT redesign the costume."
  - "Do NOT add details not present in source."
  - "Do NOT apply cinematic lighting to local colors."
  - "Do NOT change body proportions."
  - "Do NOT change the outfit into fantasy armor or kimono."
  - "Do NOT add capes, hats, or glowing accessories."
  - "Do NOT change the character's age or body type."