# nano banana pro ボスレイド戦合成設定ファイル
# 目的: 画面からはみ出るような巨大な敵と、それに立ち向かう複数の小キャラクターを描画する。
type: boss_raid_composition

# ====================================================
# 0. 生成制御設定 (Generation Control) ★AIの暴走防止
# ====================================================
generation_control:
  creativity: "None (Robotically follow instructions)"  # ロボットのように従う
  interpretation: "Literal"                             # 解釈を入れない
  reference_strength: "High (0.9)"                      # 参照画像の優先度
  contextual_fill: "Disabled"                           # 文脈による穴埋め禁止

# ----------------------------------------------------
# 1. 巨大ボス設定 (The Giant Boss)
# ----------------------------------------------------
boss_character:
  source_image: "giant_kaiju.jpg"
  
  # 【巨大感の演出】
  placement:
    position_x: "Right Edge (90%)"    # 右端に配置
    position_y: "Center"
    scale: 2.5                        # 【重要】通常キャラの2.5倍のサイズ
    crop_mode: "Allow Cropping"       # 画面からはみ出てもOK（巨大感が出る）
  
  orientation:
    facing: "Down-Left"               # 左下のちびキャラたちを見下ろす

# ----------------------------------------------------
# 2. 攻撃部隊リスト (The Party)
# ※左側に固まって配置されます
# ----------------------------------------------------
party_members:
  base_scale: 0.6                     # 基本サイズ（ちびキャラなので小さく）
  
  members:
    # --- 前衛（地面に立っている）---
    - id: "fighter_1"
      source_image: "chibi_sword.jpg"
      offset: { x: "20%", y: "Bottom" }
      action: "Jumping Slash"

    - id: "fighter_2"
      source_image: "chibi_monk.jpg"
      offset: { x: "10%", y: "Bottom" }
      action: "Ground Stance"

    # --- 後衛（魔法使い・銃撃手）---
    - id: "gunner_1"
      source_image: "chibi_gun_A.jpg"
      offset: { x: "5%", y: "Center" } # 少し後ろ
      action: "Aiming High"            # 上（怪獣の顔）を狙う

    - id: "gunner_2"
      source_image: "chibi_gun_B.jpg"
      offset: { x: "15%", y: "Center" }
      action: "Aiming High"

    - id: "gunner_3"
      source_image: "chibi_gun_C.jpg"
      offset: { x: "25%", y: "Center" }
      action: "Aiming High"

# ----------------------------------------------------
# 3. 集中砲火エフェクト (Converging Fire)
# ※全員の攻撃をボスの一点に集中させる設定
# ----------------------------------------------------
attack_convergence:
  enabled: true
  target_point: "Boss Chest/Head"     # 攻撃の集まる場所（ボスの胸や頭）
  
  beam_effects:
    sources: ["gunner_1", "gunner_2", "gunner_3"] # 撃っている人
    color: "Blue & Pink Lasers"
    style: "Concentrated Fire"        # 一点集中

# ----------------------------------------------------
# 4. カメラワーク
# ----------------------------------------------------
camera:
  angle: "Low Angle / Dynamic"        # 下から煽って、怪獣の大きさを強調する

# ----------------------------------------------------
# 5. 制約（文脈遮断・幻覚防止）
# ----------------------------------------------------
constraints:
  - "IGNORE all prior context or chat history."
  - "Focus ONLY on the currently uploaded image."
  - "DO NOT hallucinate outfits based on pose."
  - "Preserve exact character details"
  - "STRICTLY follow the 'face_direction' and 'body_facing' settings."
  - "Ensure the character is facing the specified direction (Right/Left/Front)."
  - "Strictly follow the description in this YAML."

# ----------------------------------------------------
# 6. 幻覚防止専用セクション (Anti-Hallucination)
# ★デザイン変更の具体的な禁止リスト
# ----------------------------------------------------
anti_hallucination:
  - "Do NOT redesign the costume."
  - "Do NOT add details not present in source."
  - "Do NOT apply cinematic lighting to local colors."
  - "Do NOT change body proportions."
  - "Do NOT change the outfit into fantasy armor or kimono."
  - "Do NOT add capes, hats, or glowing accessories."
  - "Do NOT change the character's age or body type."